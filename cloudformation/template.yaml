# Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License.
# A copy of the License is located at
#    http://aws.amazon.com/apache2.0/
# or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
# either express or implied. See the License for the specific language governing permissions and limitations under the License.

AWSTemplateFormatVersion: "2010-09-09"
Description: This CloudFormation Template deploys a Glue Catalog entry for the MIMIC-IV dataset in the AWS Open Data Registry and an Amazon Sagemaker Notebook instance to run studies against it.

Parameters:
  CreateNotebook:
    Type: String
    Default: "Yes"
    AllowedValues:
      - "Yes"
      - "No"
    Description: Select Yes to create an Amazon Sagemaker notebook instance
Conditions:
  CreateNotebookCondition:
    Fn::Equals:
      - Ref: CreateNotebook
      - "Yes"
Resources:
  NotebookInstanceRoleE8123527:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: sagemaker.amazonaws.com
        Version: "2012-10-17"
      Description: Amazon Sagemaker role for use with MIMIC-IV
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AWSGlueConsoleFullAccess
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonAthenaFullAccess
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonS3FullAccess
    Condition: CreateNotebookCondition
  MIMICNotebookInstance:
    Type: AWS::SageMaker::NotebookInstance
    Properties:
      InstanceType: ml.t3.medium
      RoleArn:
        Fn::GetAtt:
          - NotebookInstanceRoleE8123527
          - Arn
      DefaultCodeRepository: https://github.com/MIT-LCP/mimic-iv-datathon
    Condition: CreateNotebookCondition
  MIMICIVDB:
    Type: AWS::Glue::Database
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseInput:
        Description: MIMIC-IV Database
        Name: mimiciv
  admissions:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv admissions table
        Name: admissions
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: admittime
              Type: timestamp
            - Name: dischtime
              Type: timestamp
            - Name: deathtime
              Type: timestamp
            - Name: admission_type
              Type: string
            - Name: admit_provider_id
              Type: string
            - Name: admission_location
              Type: string
            - Name: discharge_location
              Type: string
            - Name: insurance
              Type: string
            - Name: language
              Type: string
            - Name: marital_status
              Type: string
            - Name: race
              Type: string
            - Name: edregtime
              Type: timestamp
            - Name: edouttime
              Type: timestamp
            - Name: hospital_expire_flag
              Type: smallint
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/admissions/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  dhcpcs:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv d_hcpcs table
        Name: d_hcpcs
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: code
              Type: string
            - Name: category
              Type: bigint
            - Name: long_description
              Type: string
            - Name: short_description
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/d_hcpcs/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  dicddiagnoses:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv d_icd_diagnoses table
        Name: d_icd_diagnoses
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: icd_code
              Type: string
            - Name: icd_version
              Type: smallint
            - Name: long_title
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/d_icd_diagnoses/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  dicdprocedures:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv d_icd_procedures table
        Name: d_icd_procedures
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: icd_code
              Type: string
            - Name: icd_version
              Type: smallint
            - Name: long_title
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/d_icd_procedures/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  dlabitems:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv d_labitems table
        Name: d_labitems
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: itemid
              Type: int
            - Name: label
              Type: string
            - Name: fluid
              Type: string
            - Name: category
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/d_labitems/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  diagnosesicd:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv diagnoses_icd table
        Name: diagnoses_icd
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: seq_num
              Type: bigint
            - Name: icd_code
              Type: string
            - Name: icd_version
              Type: smallint
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/diagnoses_icd/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  drgcodes:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv drgcodes table
        Name: drgcodes
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: drg_type
              Type: string
            - Name: drg_code
              Type: string
            - Name: description
              Type: string
            - Name: drg_severity
              Type: smallint
            - Name: drg_mortality
              Type: smallint
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/drgcodes/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  emar:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv emar table
        Name: emar
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: emar_id
              Type: string
            - Name: emar_seq
              Type: bigint
            - Name: poe_id
              Type: string
            - Name: pharmacy_id
              Type: int
            - Name: enter_provider_id
              Type: string
            - Name: charttime
              Type: timestamp
            - Name: medication
              Type: string
            - Name: event_txt
              Type: string
            - Name: scheduletime
              Type: timestamp
            - Name: storetime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/emar/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  emardetail:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv emar_detail table
        Name: emar_detail
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: emar_id
              Type: string
            - Name: emar_seq
              Type: bigint
            - Name: parent_field_ordinal
              Type: string
            - Name: administration_type
              Type: string
            - Name: pharmacy_id
              Type: int
            - Name: barcode_type
              Type: string
            - Name: reason_for_no_barcode
              Type: string
            - Name: complete_dose_not_given
              Type: string
            - Name: dose_due
              Type: string
            - Name: dose_due_unit
              Type: string
            - Name: dose_given
              Type: string
            - Name: dose_given_unit
              Type: string
            - Name: will_remainder_of_dose_be_given
              Type: string
            - Name: product_amount_given
              Type: string
            - Name: product_unit
              Type: string
            - Name: product_code
              Type: string
            - Name: product_description
              Type: string
            - Name: product_description_other
              Type: string
            - Name: prior_infusion_rate
              Type: string
            - Name: infusion_rate
              Type: string
            - Name: infusion_rate_adjustment
              Type: string
            - Name: infusion_rate_adjustment_amount
              Type: string
            - Name: infusion_rate_unit
              Type: string
            - Name: route
              Type: string
            - Name: infusion_complete
              Type: string
            - Name: completion_interval
              Type: string
            - Name: new_iv_bag_hung
              Type: string
            - Name: continued_infusion_in_other_location
              Type: string
            - Name: restart_interval
              Type: string
            - Name: side
              Type: string
            - Name: site
              Type: string
            - Name: non_formulary_visual_verification
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/emar_detail/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  hcpcsevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv hcpcsevents table
        Name: hcpcsevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: chartdate
              Type: date
            - Name: hcpcs_cd
              Type: string
            - Name: seq_num
              Type: bigint
            - Name: short_description
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/hcpcsevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  labevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv labevents table
        Name: labevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: labevent_id
              Type: int
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: specimen_id
              Type: int
            - Name: itemid
              Type: int
            - Name: order_provider_id
              Type: string
            - Name: charttime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: value
              Type: string
            - Name: valuenum
              Type: float
            - Name: valueuom
              Type: string
            - Name: ref_range_lower
              Type: float
            - Name: ref_range_upper
              Type: float
            - Name: flag
              Type: string
            - Name: priority
              Type: string
            - Name: comments
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/labevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  microbiologyevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv microbiologyevents table
        Name: microbiologyevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: microevent_id
              Type: int
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: micro_specimen_id
              Type: int
            - Name: order_provider_id
              Type: string
            - Name: chartdate
              Type: timestamp
            - Name: charttime
              Type: timestamp
            - Name: spec_itemid
              Type: bigint
            - Name: spec_type_desc
              Type: string
            - Name: test_seq
              Type: bigint
            - Name: storedate
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: test_itemid
              Type: bigint
            - Name: test_name
              Type: string
            - Name: org_itemid
              Type: bigint
            - Name: org_name
              Type: string
            - Name: isolate_num
              Type: bigint
            - Name: quantity
              Type: string
            - Name: ab_itemid
              Type: bigint
            - Name: ab_name
              Type: string
            - Name: dilution_text
              Type: string
            - Name: dilution_comparison
              Type: string
            - Name: dilution_value
              Type: float
            - Name: interpretation
              Type: string
            - Name: comments
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/microbiologyevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  omr:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv omr table
        Name: omr
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: chartdate
              Type: date
            - Name: seq_num
              Type: bigint
            - Name: result_name
              Type: string
            - Name: result_value
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/omr/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  patients:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv patients table
        Name: patients
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: gender
              Type: string
            - Name: anchor_age
              Type: smallint
            - Name: anchor_year
              Type: smallint
            - Name: anchor_year_group
              Type: string
            - Name: dod
              Type: date
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/patients/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  pharmacy:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv pharmacy table
        Name: pharmacy
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: pharmacy_id
              Type: int
            - Name: poe_id
              Type: string
            - Name: starttime
              Type: timestamp
            - Name: stoptime
              Type: timestamp
            - Name: medication
              Type: string
            - Name: proc_type
              Type: string
            - Name: status
              Type: string
            - Name: entertime
              Type: timestamp
            - Name: verifiedtime
              Type: timestamp
            - Name: route
              Type: string
            - Name: frequency
              Type: string
            - Name: disp_sched
              Type: string
            - Name: infusion_type
              Type: string
            - Name: sliding_scale
              Type: string
            - Name: lockout_interval
              Type: string
            - Name: basal_rate
              Type: float
            - Name: one_hr_max
              Type: string
            - Name: doses_per_24_hrs
              Type: float
            - Name: duration
              Type: float
            - Name: duration_interval
              Type: string
            - Name: expiration_value
              Type: bigint
            - Name: expiration_unit
              Type: string
            - Name: expirationdate
              Type: timestamp
            - Name: dispensation
              Type: string
            - Name: fill_quantity
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/pharmacy/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  poe:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv poe table
        Name: poe
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: poe_id
              Type: string
            - Name: poe_seq
              Type: bigint
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: ordertime
              Type: timestamp
            - Name: order_type
              Type: string
            - Name: order_subtype
              Type: string
            - Name: transaction_type
              Type: string
            - Name: discontinue_of_poe_id
              Type: string
            - Name: discontinued_by_poe_id
              Type: string
            - Name: order_provider_id
              Type: string
            - Name: order_status
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/poe/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  poedetail:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv poe_detail table
        Name: poe_detail
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: poe_id
              Type: string
            - Name: poe_seq
              Type: bigint
            - Name: subject_id
              Type: int
            - Name: field_name
              Type: string
            - Name: field_value
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/poe_detail/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  prescriptions:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv prescriptions table
        Name: prescriptions
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: pharmacy_id
              Type: int
            - Name: poe_id
              Type: string
            - Name: poe_seq
              Type: bigint
            - Name: order_provider_id
              Type: string
            - Name: starttime
              Type: timestamp
            - Name: stoptime
              Type: timestamp
            - Name: drug_type
              Type: string
            - Name: drug
              Type: string
            - Name: formulary_drug_cd
              Type: string
            - Name: gsn
              Type: string
            - Name: ndc
              Type: string
            - Name: prod_strength
              Type: string
            - Name: form_rx
              Type: string
            - Name: dose_val_rx
              Type: string
            - Name: dose_unit_rx
              Type: string
            - Name: form_val_disp
              Type: string
            - Name: form_unit_disp
              Type: string
            - Name: doses_per_24_hrs
              Type: float
            - Name: route
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/prescriptions/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  proceduresicd:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv procedures_icd table
        Name: procedures_icd
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: seq_num
              Type: bigint
            - Name: chartdate
              Type: date
            - Name: icd_code
              Type: string
            - Name: icd_version
              Type: smallint
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/procedures_icd/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  provider:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv provider table
        Name: provider
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: provider_id
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/provider/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  services:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv services table
        Name: services
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: transfertime
              Type: timestamp
            - Name: prev_service
              Type: string
            - Name: curr_service
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/services/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  transfers:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv transfers table
        Name: transfers
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: transfer_id
              Type: int
            - Name: eventtype
              Type: string
            - Name: careunit
              Type: string
            - Name: intime
              Type: timestamp
            - Name: outtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/hosp/transfers/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  caregiver:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv caregiver table
        Name: caregiver
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: caregiver_id
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/caregiver/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  chartevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv chartevents table
        Name: chartevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: caregiver_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: itemid
              Type: int
            - Name: value
              Type: string
            - Name: valuenum
              Type: float
            - Name: valueuom
              Type: string
            - Name: warning
              Type: smallint
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/chartevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  ditems:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv d_items table
        Name: d_items
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: itemid
              Type: int
            - Name: label
              Type: string
            - Name: abbreviation
              Type: string
            - Name: linksto
              Type: string
            - Name: category
              Type: string
            - Name: unitname
              Type: string
            - Name: param_type
              Type: string
            - Name: lownormalvalue
              Type: float
            - Name: highnormalvalue
              Type: float
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/d_items/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  datetimeevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv datetimeevents table
        Name: datetimeevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: caregiver_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: itemid
              Type: int
            - Name: value
              Type: timestamp
            - Name: valueuom
              Type: string
            - Name: warning
              Type: smallint
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/datetimeevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  icustays:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv icustays table
        Name: icustays
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: first_careunit
              Type: string
            - Name: last_careunit
              Type: string
            - Name: intime
              Type: timestamp
            - Name: outtime
              Type: timestamp
            - Name: los
              Type: float
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/icustays/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  ingredientevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv ingredientevents table
        Name: ingredientevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: caregiver_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: itemid
              Type: int
            - Name: amount
              Type: float
            - Name: amountuom
              Type: string
            - Name: rate
              Type: float
            - Name: rateuom
              Type: string
            - Name: orderid
              Type: bigint
            - Name: linkorderid
              Type: bigint
            - Name: statusdescription
              Type: string
            - Name: originalamount
              Type: float
            - Name: originalrate
              Type: float
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/ingredientevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  inputevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv inputevents table
        Name: inputevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: caregiver_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: itemid
              Type: int
            - Name: amount
              Type: float
            - Name: amountuom
              Type: string
            - Name: rate
              Type: float
            - Name: rateuom
              Type: string
            - Name: orderid
              Type: bigint
            - Name: linkorderid
              Type: bigint
            - Name: ordercategoryname
              Type: string
            - Name: secondaryordercategoryname
              Type: string
            - Name: ordercomponenttypedescription
              Type: string
            - Name: ordercategorydescription
              Type: string
            - Name: patientweight
              Type: float
            - Name: totalamount
              Type: float
            - Name: totalamountuom
              Type: string
            - Name: isopenbag
              Type: bigint
            - Name: continueinnextdept
              Type: bigint
            - Name: statusdescription
              Type: string
            - Name: originalamount
              Type: float
            - Name: originalrate
              Type: float
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/inputevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  outputevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv outputevents table
        Name: outputevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: caregiver_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: itemid
              Type: int
            - Name: value
              Type: float
            - Name: valueuom
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/outputevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  procedureevents:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv procedureevents table
        Name: procedureevents
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: caregiver_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: storetime
              Type: timestamp
            - Name: itemid
              Type: int
            - Name: value
              Type: float
            - Name: valueuom
              Type: string
            - Name: location
              Type: string
            - Name: locationcategory
              Type: string
            - Name: orderid
              Type: bigint
            - Name: linkorderid
              Type: bigint
            - Name: ordercategoryname
              Type: string
            - Name: ordercategorydescription
              Type: string
            - Name: patientweight
              Type: float
            - Name: isopenbag
              Type: bigint
            - Name: continueinnextdept
              Type: bigint
            - Name: statusdescription
              Type: string
            - Name: originalamount
              Type: float
            - Name: originalrate
              Type: float
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/icu/procedureevents/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedage:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_age table
        Name: derived_age
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: admittime
              Type: timestamp
            - Name: anchor_age
              Type: smallint
            - Name: anchor_year
              Type: smallint
            - Name: age
              Type: decimal(28,6)
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/age/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedantibiotic:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_antibiotic table
        Name: derived_antibiotic
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: antibiotic
              Type: string
            - Name: route
              Type: string
            - Name: starttime
              Type: timestamp
            - Name: stoptime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/antibiotic/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedapsiii:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_apsiii table
        Name: derived_apsiii
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: apsiii
              Type: int
            - Name: apsiii_prob
              Type: decimal(28,6)
            - Name: hr_score
              Type: int
            - Name: mbp_score
              Type: int
            - Name: temp_score
              Type: int
            - Name: resp_rate_score
              Type: int
            - Name: pao2_aado2_score
              Type: int
            - Name: hematocrit_score
              Type: int
            - Name: wbc_score
              Type: int
            - Name: creatinine_score
              Type: int
            - Name: uo_score
              Type: int
            - Name: bun_score
              Type: int
            - Name: sodium_score
              Type: int
            - Name: albumin_score
              Type: int
            - Name: bilirubin_score
              Type: int
            - Name: glucose_score
              Type: int
            - Name: acidbase_score
              Type: int
            - Name: gcs_score
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/apsiii/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedbg:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_bg table
        Name: derived_bg
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen
              Type: string
            - Name: so2
              Type: double
            - Name: po2
              Type: double
            - Name: pco2
              Type: double
            - Name: fio2_chartevents
              Type: double
            - Name: fio2
              Type: double
            - Name: aado2
              Type: double
            - Name: aado2_calc
              Type: double
            - Name: pao2fio2ratio
              Type: double
            - Name: ph
              Type: double
            - Name: baseexcess
              Type: double
            - Name: bicarbonate
              Type: double
            - Name: totalco2
              Type: double
            - Name: hematocrit
              Type: double
            - Name: hemoglobin
              Type: double
            - Name: carboxyhemoglobin
              Type: double
            - Name: methemoglobin
              Type: double
            - Name: chloride
              Type: double
            - Name: calcium
              Type: double
            - Name: temperature
              Type: double
            - Name: potassium
              Type: double
            - Name: sodium
              Type: double
            - Name: lactate
              Type: double
            - Name: glucose
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/bg/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedblooddifferential:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_blood_differential table
        Name: derived_blood_differential
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: wbc
              Type: double
            - Name: basophils_abs
              Type: decimal(28,6)
            - Name: eosinophils_abs
              Type: decimal(28,6)
            - Name: lymphocytes_abs
              Type: decimal(28,6)
            - Name: monocytes_abs
              Type: decimal(28,6)
            - Name: neutrophils_abs
              Type: decimal(28,6)
            - Name: basophils
              Type: double
            - Name: eosinophils
              Type: double
            - Name: lymphocytes
              Type: double
            - Name: monocytes
              Type: double
            - Name: neutrophils
              Type: double
            - Name: atypical_lymphocytes
              Type: double
            - Name: bands
              Type: double
            - Name: immature_granulocytes
              Type: double
            - Name: metamyelocytes
              Type: double
            - Name: nrbc
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/blood_differential/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedcardiacmarker:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_cardiac_marker table
        Name: derived_cardiac_marker
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: troponin_t
              Type: string
            - Name: ck_mb
              Type: double
            - Name: ntprobnp
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/cardiac_marker/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedcharlson:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_charlson table
        Name: derived_charlson
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: age_score
              Type: int
            - Name: myocardial_infarct
              Type: int
            - Name: congestive_heart_failure
              Type: int
            - Name: peripheral_vascular_disease
              Type: int
            - Name: cerebrovascular_disease
              Type: int
            - Name: dementia
              Type: int
            - Name: chronic_pulmonary_disease
              Type: int
            - Name: rheumatic_disease
              Type: int
            - Name: peptic_ulcer_disease
              Type: int
            - Name: mild_liver_disease
              Type: int
            - Name: diabetes_without_cc
              Type: int
            - Name: diabetes_with_cc
              Type: int
            - Name: paraplegia
              Type: int
            - Name: renal_disease
              Type: int
            - Name: malignant_cancer
              Type: int
            - Name: severe_liver_disease
              Type: int
            - Name: metastatic_solid_tumor
              Type: int
            - Name: aids
              Type: int
            - Name: charlson_comorbidity_index
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/charlson/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedchemistry:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_chemistry table
        Name: derived_chemistry
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: albumin
              Type: double
            - Name: globulin
              Type: double
            - Name: total_protein
              Type: double
            - Name: aniongap
              Type: double
            - Name: bicarbonate
              Type: double
            - Name: bun
              Type: double
            - Name: calcium
              Type: double
            - Name: chloride
              Type: double
            - Name: creatinine
              Type: double
            - Name: glucose
              Type: double
            - Name: sodium
              Type: double
            - Name: potassium
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/chemistry/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedcoagulation:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_coagulation table
        Name: derived_coagulation
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: d_dimer
              Type: double
            - Name: fibrinogen
              Type: double
            - Name: thrombin
              Type: double
            - Name: inr
              Type: double
            - Name: pt
              Type: double
            - Name: ptt
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/coagulation/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedcompletebloodcount:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_complete_blood_count table
        Name: derived_complete_blood_count
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: hematocrit
              Type: double
            - Name: hemoglobin
              Type: double
            - Name: mch
              Type: double
            - Name: mchc
              Type: double
            - Name: mcv
              Type: double
            - Name: platelet
              Type: double
            - Name: rbc
              Type: double
            - Name: rdw
              Type: double
            - Name: rdwsd
              Type: double
            - Name: wbc
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/complete_blood_count/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedcreatininebaseline:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_creatinine_baseline table
        Name: derived_creatinine_baseline
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: hadm_id
              Type: int
            - Name: gender
              Type: string
            - Name: age
              Type: decimal(28,6)
            - Name: scr_min
              Type: double
            - Name: ckd
              Type: int
            - Name: mdrd_est
              Type: decimal(28,6)
            - Name: scr_baseline
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/creatinine_baseline/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedcrrt:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_crrt table
        Name: derived_crrt
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: crrt_mode
              Type: string
            - Name: access_pressure
              Type: double
            - Name: blood_flow
              Type: double
            - Name: citrate
              Type: double
            - Name: current_goal
              Type: double
            - Name: dialysate_fluid
              Type: string
            - Name: dialysate_rate
              Type: double
            - Name: effluent_pressure
              Type: double
            - Name: filter_pressure
              Type: double
            - Name: heparin_concentration
              Type: string
            - Name: heparin_dose
              Type: double
            - Name: hourly_patient_fluid_removal
              Type: double
            - Name: prefilter_replacement_rate
              Type: double
            - Name: postfilter_replacement_rate
              Type: double
            - Name: replacement_fluid
              Type: string
            - Name: replacement_rate
              Type: double
            - Name: return_pressure
              Type: double
            - Name: ultrafiltrate_output
              Type: double
            - Name: system_active
              Type: int
            - Name: clots
              Type: int
            - Name: clots_increasing
              Type: int
            - Name: clotted
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/crrt/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  deriveddobutamine:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_dobutamine table
        Name: derived_dobutamine
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/dobutamine/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  deriveddopamine:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_dopamine table
        Name: derived_dopamine
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/dopamine/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedenzyme:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_enzyme table
        Name: derived_enzyme
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: alt
              Type: double
            - Name: alp
              Type: double
            - Name: ast
              Type: double
            - Name: amylase
              Type: double
            - Name: bilirubin_total
              Type: double
            - Name: bilirubin_direct
              Type: double
            - Name: bilirubin_indirect
              Type: double
            - Name: ck_cpk
              Type: double
            - Name: ck_mb
              Type: double
            - Name: ggt
              Type: double
            - Name: ld_ldh
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/enzyme/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedepinephrine:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_epinephrine table
        Name: derived_epinephrine
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/epinephrine/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdaybg:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_bg table
        Name: derived_first_day_bg
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: lactate_min
              Type: double
            - Name: lactate_max
              Type: double
            - Name: ph_min
              Type: double
            - Name: ph_max
              Type: double
            - Name: so2_min
              Type: double
            - Name: so2_max
              Type: double
            - Name: po2_min
              Type: double
            - Name: po2_max
              Type: double
            - Name: pco2_min
              Type: double
            - Name: pco2_max
              Type: double
            - Name: aado2_min
              Type: double
            - Name: aado2_max
              Type: double
            - Name: aado2_calc_min
              Type: double
            - Name: aado2_calc_max
              Type: double
            - Name: pao2fio2ratio_min
              Type: double
            - Name: pao2fio2ratio_max
              Type: double
            - Name: baseexcess_min
              Type: double
            - Name: baseexcess_max
              Type: double
            - Name: bicarbonate_min
              Type: double
            - Name: bicarbonate_max
              Type: double
            - Name: totalco2_min
              Type: double
            - Name: totalco2_max
              Type: double
            - Name: hematocrit_min
              Type: double
            - Name: hematocrit_max
              Type: double
            - Name: hemoglobin_min
              Type: double
            - Name: hemoglobin_max
              Type: double
            - Name: carboxyhemoglobin_min
              Type: double
            - Name: carboxyhemoglobin_max
              Type: double
            - Name: methemoglobin_min
              Type: double
            - Name: methemoglobin_max
              Type: double
            - Name: temperature_min
              Type: double
            - Name: temperature_max
              Type: double
            - Name: chloride_min
              Type: double
            - Name: chloride_max
              Type: double
            - Name: calcium_min
              Type: double
            - Name: calcium_max
              Type: double
            - Name: glucose_min
              Type: double
            - Name: glucose_max
              Type: double
            - Name: potassium_min
              Type: double
            - Name: potassium_max
              Type: double
            - Name: sodium_min
              Type: double
            - Name: sodium_max
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_bg/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdaybgart:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_bg_art table
        Name: derived_first_day_bg_art
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: lactate_min
              Type: double
            - Name: lactate_max
              Type: double
            - Name: ph_min
              Type: double
            - Name: ph_max
              Type: double
            - Name: so2_min
              Type: double
            - Name: so2_max
              Type: double
            - Name: po2_min
              Type: double
            - Name: po2_max
              Type: double
            - Name: pco2_min
              Type: double
            - Name: pco2_max
              Type: double
            - Name: aado2_min
              Type: double
            - Name: aado2_max
              Type: double
            - Name: aado2_calc_min
              Type: double
            - Name: aado2_calc_max
              Type: double
            - Name: pao2fio2ratio_min
              Type: double
            - Name: pao2fio2ratio_max
              Type: double
            - Name: baseexcess_min
              Type: double
            - Name: baseexcess_max
              Type: double
            - Name: bicarbonate_min
              Type: double
            - Name: bicarbonate_max
              Type: double
            - Name: totalco2_min
              Type: double
            - Name: totalco2_max
              Type: double
            - Name: hematocrit_min
              Type: double
            - Name: hematocrit_max
              Type: double
            - Name: hemoglobin_min
              Type: double
            - Name: hemoglobin_max
              Type: double
            - Name: carboxyhemoglobin_min
              Type: double
            - Name: carboxyhemoglobin_max
              Type: double
            - Name: methemoglobin_min
              Type: double
            - Name: methemoglobin_max
              Type: double
            - Name: temperature_min
              Type: double
            - Name: temperature_max
              Type: double
            - Name: chloride_min
              Type: double
            - Name: chloride_max
              Type: double
            - Name: calcium_min
              Type: double
            - Name: calcium_max
              Type: double
            - Name: glucose_min
              Type: double
            - Name: glucose_max
              Type: double
            - Name: potassium_min
              Type: double
            - Name: potassium_max
              Type: double
            - Name: sodium_min
              Type: double
            - Name: sodium_max
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_bg_art/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdaygcs:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_gcs table
        Name: derived_first_day_gcs
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: gcs_min
              Type: double
            - Name: gcs_motor
              Type: double
            - Name: gcs_verbal
              Type: double
            - Name: gcs_eyes
              Type: double
            - Name: gcs_unable
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_gcs/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdayheight:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_height table
        Name: derived_first_day_height
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: height
              Type: decimal(28,6)
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_height/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdaylab:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_lab table
        Name: derived_first_day_lab
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: hematocrit_min
              Type: double
            - Name: hematocrit_max
              Type: double
            - Name: hemoglobin_min
              Type: double
            - Name: hemoglobin_max
              Type: double
            - Name: platelets_min
              Type: double
            - Name: platelets_max
              Type: double
            - Name: wbc_min
              Type: double
            - Name: wbc_max
              Type: double
            - Name: albumin_min
              Type: double
            - Name: albumin_max
              Type: double
            - Name: globulin_min
              Type: double
            - Name: globulin_max
              Type: double
            - Name: total_protein_min
              Type: double
            - Name: total_protein_max
              Type: double
            - Name: aniongap_min
              Type: double
            - Name: aniongap_max
              Type: double
            - Name: bicarbonate_min
              Type: double
            - Name: bicarbonate_max
              Type: double
            - Name: bun_min
              Type: double
            - Name: bun_max
              Type: double
            - Name: calcium_min
              Type: double
            - Name: calcium_max
              Type: double
            - Name: chloride_min
              Type: double
            - Name: chloride_max
              Type: double
            - Name: creatinine_min
              Type: double
            - Name: creatinine_max
              Type: double
            - Name: glucose_min
              Type: double
            - Name: glucose_max
              Type: double
            - Name: sodium_min
              Type: double
            - Name: sodium_max
              Type: double
            - Name: potassium_min
              Type: double
            - Name: potassium_max
              Type: double
            - Name: abs_basophils_min
              Type: decimal(28,6)
            - Name: abs_basophils_max
              Type: decimal(28,6)
            - Name: abs_eosinophils_min
              Type: decimal(28,6)
            - Name: abs_eosinophils_max
              Type: decimal(28,6)
            - Name: abs_lymphocytes_min
              Type: decimal(28,6)
            - Name: abs_lymphocytes_max
              Type: decimal(28,6)
            - Name: abs_monocytes_min
              Type: decimal(28,6)
            - Name: abs_monocytes_max
              Type: decimal(28,6)
            - Name: abs_neutrophils_min
              Type: decimal(28,6)
            - Name: abs_neutrophils_max
              Type: decimal(28,6)
            - Name: atyps_min
              Type: double
            - Name: atyps_max
              Type: double
            - Name: bands_min
              Type: double
            - Name: bands_max
              Type: double
            - Name: imm_granulocytes_min
              Type: double
            - Name: imm_granulocytes_max
              Type: double
            - Name: metas_min
              Type: double
            - Name: metas_max
              Type: double
            - Name: nrbc_min
              Type: double
            - Name: nrbc_max
              Type: double
            - Name: d_dimer_min
              Type: double
            - Name: d_dimer_max
              Type: double
            - Name: fibrinogen_min
              Type: double
            - Name: fibrinogen_max
              Type: double
            - Name: thrombin_min
              Type: double
            - Name: thrombin_max
              Type: double
            - Name: inr_min
              Type: double
            - Name: inr_max
              Type: double
            - Name: pt_min
              Type: double
            - Name: pt_max
              Type: double
            - Name: ptt_min
              Type: double
            - Name: ptt_max
              Type: double
            - Name: alt_min
              Type: double
            - Name: alt_max
              Type: double
            - Name: alp_min
              Type: double
            - Name: alp_max
              Type: double
            - Name: ast_min
              Type: double
            - Name: ast_max
              Type: double
            - Name: amylase_min
              Type: double
            - Name: amylase_max
              Type: double
            - Name: bilirubin_total_min
              Type: double
            - Name: bilirubin_total_max
              Type: double
            - Name: bilirubin_direct_min
              Type: double
            - Name: bilirubin_direct_max
              Type: double
            - Name: bilirubin_indirect_min
              Type: double
            - Name: bilirubin_indirect_max
              Type: double
            - Name: ck_cpk_min
              Type: double
            - Name: ck_cpk_max
              Type: double
            - Name: ck_mb_min
              Type: double
            - Name: ck_mb_max
              Type: double
            - Name: ggt_min
              Type: double
            - Name: ggt_max
              Type: double
            - Name: ld_ldh_min
              Type: double
            - Name: ld_ldh_max
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_lab/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdayrrt:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_rrt table
        Name: derived_first_day_rrt
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: dialysis_present
              Type: int
            - Name: dialysis_active
              Type: int
            - Name: dialysis_type
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_rrt/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdaysofa:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_sofa table
        Name: derived_first_day_sofa
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: sofa
              Type: int
            - Name: respiration
              Type: int
            - Name: coagulation
              Type: int
            - Name: liver
              Type: int
            - Name: cardiovascular
              Type: int
            - Name: cns
              Type: int
            - Name: renal
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_sofa/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdayurineoutput:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_urine_output table
        Name: derived_first_day_urine_output
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: urineoutput
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_urine_output/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdayvitalsign:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_vitalsign table
        Name: derived_first_day_vitalsign
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: heart_rate_min
              Type: double
            - Name: heart_rate_max
              Type: double
            - Name: heart_rate_mean
              Type: double
            - Name: sbp_min
              Type: double
            - Name: sbp_max
              Type: double
            - Name: sbp_mean
              Type: double
            - Name: dbp_min
              Type: double
            - Name: dbp_max
              Type: double
            - Name: dbp_mean
              Type: double
            - Name: mbp_min
              Type: double
            - Name: mbp_max
              Type: double
            - Name: mbp_mean
              Type: double
            - Name: resp_rate_min
              Type: double
            - Name: resp_rate_max
              Type: double
            - Name: resp_rate_mean
              Type: double
            - Name: temperature_min
              Type: decimal(28,6)
            - Name: temperature_max
              Type: decimal(28,6)
            - Name: temperature_mean
              Type: decimal(28,6)
            - Name: spo2_min
              Type: double
            - Name: spo2_max
              Type: double
            - Name: spo2_mean
              Type: double
            - Name: glucose_min
              Type: double
            - Name: glucose_max
              Type: double
            - Name: glucose_mean
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_vitalsign/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedfirstdayweight:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_first_day_weight table
        Name: derived_first_day_weight
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: weight_admit
              Type: double
            - Name: weight
              Type: double
            - Name: weight_min
              Type: double
            - Name: weight_max
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/first_day_weight/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedgcs:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_gcs table
        Name: derived_gcs
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: gcs
              Type: double
            - Name: gcs_motor
              Type: double
            - Name: gcs_verbal
              Type: double
            - Name: gcs_eyes
              Type: double
            - Name: gcs_unable
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/gcs/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedheight:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_height table
        Name: derived_height
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: height
              Type: decimal(28,6)
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/height/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedicp:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_icp table
        Name: derived_icp
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: icp
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/icp/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedicustaydetail:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_icustay_detail table
        Name: derived_icustay_detail
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: gender
              Type: string
            - Name: dod
              Type: date
            - Name: admittime
              Type: timestamp
            - Name: dischtime
              Type: timestamp
            - Name: los_hospital
              Type: decimal(28,6)
            - Name: admission_age
              Type: decimal(28,6)
            - Name: race
              Type: string
            - Name: hospital_expire_flag
              Type: smallint
            - Name: hospstay_seq
              Type: bigint
            - Name: first_hosp_stay
              Type: string
            - Name: icu_intime
              Type: timestamp
            - Name: icu_outtime
              Type: timestamp
            - Name: los_icu
              Type: decimal(28,6)
            - Name: icustay_seq
              Type: bigint
            - Name: first_icu_stay
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/icustay_detail/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedicustayhourly:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_icustay_hourly table
        Name: derived_icustay_hourly
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: hr
              Type: bigint
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/icustay_hourly/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedicustaytimes:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_icustay_times table
        Name: derived_icustay_times
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: intime_hr
              Type: timestamp
            - Name: outtime_hr
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/icustay_times/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedinflammation:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_inflammation table
        Name: derived_inflammation
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: specimen_id
              Type: int
            - Name: crp
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/inflammation/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedinvasiveline:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_invasive_line table
        Name: derived_invasive_line
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: line_type
              Type: string
            - Name: line_site
              Type: string
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/invasive_line/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedkdigocreatinine:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_kdigo_creatinine table
        Name: derived_kdigo_creatinine
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: creat
              Type: double
            - Name: creat_low_past_48hr
              Type: double
            - Name: creat_low_past_7day
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/kdigo_creatinine/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedlods:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_lods table
        Name: derived_lods
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: lods
              Type: int
            - Name: neurologic
              Type: int
            - Name: cardiovascular
              Type: int
            - Name: renal
              Type: int
            - Name: pulmonary
              Type: int
            - Name: hematologic
              Type: int
            - Name: hepatic
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/lods/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedmeld:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_meld table
        Name: derived_meld
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: meld_initial
              Type: decimal(28,6)
            - Name: meld
              Type: double
            - Name: rrt
              Type: int
            - Name: creatinine_max
              Type: double
            - Name: bilirubin_total_max
              Type: double
            - Name: inr_max
              Type: double
            - Name: sodium_min
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/meld/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedmilrinone:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_milrinone table
        Name: derived_milrinone
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/milrinone/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedneuroblock:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_neuroblock table
        Name: derived_neuroblock
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: orderid
              Type: int
            - Name: drug_rate
              Type: double
            - Name: drug_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/neuroblock/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivednorepinephrine:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_norepinephrine table
        Name: derived_norepinephrine
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/norepinephrine/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivednorepinephrineequivalentdose:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_norepinephrine_equivalent_dose table
        Name: derived_norepinephrine_equivalent_dose
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: norepinephrine_equivalent_dose
              Type: decimal(28,6)
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/norepinephrine_equivalent_dose/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedoasis:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_oasis table
        Name: derived_oasis
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: oasis
              Type: int
            - Name: oasis_prob
              Type: decimal(28,6)
            - Name: age
              Type: decimal(28,6)
            - Name: age_score
              Type: int
            - Name: preiculos
              Type: decimal(28,6)
            - Name: preiculos_score
              Type: int
            - Name: gcs
              Type: double
            - Name: gcs_score
              Type: int
            - Name: heartrate
              Type: double
            - Name: heart_rate_score
              Type: int
            - Name: meanbp
              Type: double
            - Name: mbp_score
              Type: int
            - Name: resprate
              Type: double
            - Name: resp_rate_score
              Type: int
            - Name: temp
              Type: decimal(28,6)
            - Name: temp_score
              Type: int
            - Name: urineoutput
              Type: double
            - Name: urineoutput_score
              Type: int
            - Name: mechvent
              Type: int
            - Name: mechvent_score
              Type: int
            - Name: electivesurgery
              Type: int
            - Name: electivesurgery_score
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/oasis/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedoxygendelivery:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_oxygen_delivery table
        Name: derived_oxygen_delivery
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: o2_flow
              Type: double
            - Name: o2_flow_additional
              Type: double
            - Name: o2_delivery_device_1
              Type: string
            - Name: o2_delivery_device_2
              Type: string
            - Name: o2_delivery_device_3
              Type: string
            - Name: o2_delivery_device_4
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/oxygen_delivery/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedphenylephrine:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_phenylephrine table
        Name: derived_phenylephrine
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/phenylephrine/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedrhythm:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_rhythm table
        Name: derived_rhythm
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: heart_rhythm
              Type: string
            - Name: ectopy_type
              Type: string
            - Name: ectopy_frequency
              Type: string
            - Name: ectopy_type_secondary
              Type: string
            - Name: ectopy_frequency_secondary
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/rhythm/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedrrt:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_rrt table
        Name: derived_rrt
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: dialysis_present
              Type: int
            - Name: dialysis_active
              Type: int
            - Name: dialysis_type
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/rrt/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedsapsii:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_sapsii table
        Name: derived_sapsii
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: sapsii
              Type: int
            - Name: sapsii_prob
              Type: double
            - Name: age_score
              Type: int
            - Name: hr_score
              Type: int
            - Name: sysbp_score
              Type: int
            - Name: temp_score
              Type: int
            - Name: pao2fio2_score
              Type: int
            - Name: uo_score
              Type: int
            - Name: bun_score
              Type: int
            - Name: wbc_score
              Type: int
            - Name: potassium_score
              Type: int
            - Name: sodium_score
              Type: int
            - Name: bicarbonate_score
              Type: int
            - Name: bilirubin_score
              Type: int
            - Name: gcs_score
              Type: int
            - Name: comorbidity_score
              Type: int
            - Name: admissiontype_score
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/sapsii/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedsepsis3:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_sepsis3 table
        Name: derived_sepsis3
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: antibiotic_time
              Type: timestamp
            - Name: culture_time
              Type: timestamp
            - Name: suspected_infection_time
              Type: timestamp
            - Name: sofa_time
              Type: timestamp
            - Name: sofa_score
              Type: int
            - Name: respiration
              Type: int
            - Name: coagulation
              Type: int
            - Name: liver
              Type: int
            - Name: cardiovascular
              Type: int
            - Name: cns
              Type: int
            - Name: renal
              Type: int
            - Name: sepsis3
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/sepsis3/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedsirs:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_sirs table
        Name: derived_sirs
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: sirs
              Type: int
            - Name: temp_score
              Type: int
            - Name: heart_rate_score
              Type: int
            - Name: resp_score
              Type: int
            - Name: wbc_score
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/sirs/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedsofa:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_sofa table
        Name: derived_sofa
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: hr
              Type: bigint
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: pao2fio2ratio_novent
              Type: double
            - Name: pao2fio2ratio_vent
              Type: double
            - Name: rate_epinephrine
              Type: double
            - Name: rate_norepinephrine
              Type: double
            - Name: rate_dopamine
              Type: double
            - Name: rate_dobutamine
              Type: double
            - Name: meanbp_min
              Type: double
            - Name: gcs_min
              Type: double
            - Name: uo_24hr
              Type: double
            - Name: bilirubin_max
              Type: double
            - Name: creatinine_max
              Type: double
            - Name: platelet_min
              Type: double
            - Name: respiration
              Type: int
            - Name: coagulation
              Type: int
            - Name: liver
              Type: int
            - Name: cardiovascular
              Type: int
            - Name: cns
              Type: int
            - Name: renal
              Type: int
            - Name: respiration_24hours
              Type: int
            - Name: coagulation_24hours
              Type: int
            - Name: liver_24hours
              Type: int
            - Name: cardiovascular_24hours
              Type: int
            - Name: cns_24hours
              Type: int
            - Name: renal_24hours
              Type: int
            - Name: sofa_24hours
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/sofa/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedsuspicionofinfection:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_suspicion_of_infection table
        Name: derived_suspicion_of_infection
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: hadm_id
              Type: int
            - Name: ab_id
              Type: bigint
            - Name: antibiotic
              Type: string
            - Name: antibiotic_time
              Type: timestamp
            - Name: suspected_infection
              Type: int
            - Name: suspected_infection_time
              Type: timestamp
            - Name: culture_time
              Type: timestamp
            - Name: specimen
              Type: string
            - Name: positive_culture
              Type: int
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/suspicion_of_infection/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedurineoutput:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_urine_output table
        Name: derived_urine_output
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: urineoutput
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/urine_output/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedurineoutputrate:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_urine_output_rate table
        Name: derived_urine_output_rate
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: weight
              Type: double
            - Name: uo
              Type: double
            - Name: urineoutput_6hr
              Type: double
            - Name: urineoutput_12hr
              Type: double
            - Name: urineoutput_24hr
              Type: double
            - Name: uo_mlkghr_6hr
              Type: decimal(28,6)
            - Name: uo_mlkghr_12hr
              Type: decimal(28,6)
            - Name: uo_mlkghr_24hr
              Type: decimal(28,6)
            - Name: uo_tm_6hr
              Type: decimal(28,6)
            - Name: uo_tm_12hr
              Type: decimal(28,6)
            - Name: uo_tm_24hr
              Type: decimal(28,6)
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/urine_output_rate/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedvasoactiveagent:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_vasoactive_agent table
        Name: derived_vasoactive_agent
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: dopamine
              Type: double
            - Name: epinephrine
              Type: double
            - Name: norepinephrine
              Type: double
            - Name: phenylephrine
              Type: double
            - Name: vasopressin
              Type: double
            - Name: dobutamine
              Type: double
            - Name: milrinone
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/vasoactive_agent/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedvasopressin:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_vasopressin table
        Name: derived_vasopressin
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: linkorderid
              Type: int
            - Name: vaso_rate
              Type: double
            - Name: vaso_amount
              Type: double
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/vasopressin/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedventilation:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_ventilation table
        Name: derived_ventilation
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: ventilation_status
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/ventilation/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedventilatorsetting:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_ventilator_setting table
        Name: derived_ventilator_setting
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: respiratory_rate_set
              Type: double
            - Name: respiratory_rate_total
              Type: double
            - Name: respiratory_rate_spontaneous
              Type: double
            - Name: minute_volume
              Type: double
            - Name: tidal_volume_set
              Type: double
            - Name: tidal_volume_observed
              Type: double
            - Name: tidal_volume_spontaneous
              Type: double
            - Name: plateau_pressure
              Type: double
            - Name: peep
              Type: double
            - Name: fio2
              Type: double
            - Name: flow_rate
              Type: double
            - Name: ventilator_mode
              Type: string
            - Name: ventilator_mode_hamilton
              Type: string
            - Name: ventilator_type
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/ventilator_setting/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedvitalsign:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_vitalsign table
        Name: derived_vitalsign
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: subject_id
              Type: int
            - Name: stay_id
              Type: int
            - Name: charttime
              Type: timestamp
            - Name: heart_rate
              Type: double
            - Name: sbp
              Type: double
            - Name: dbp
              Type: double
            - Name: mbp
              Type: double
            - Name: sbp_ni
              Type: double
            - Name: dbp_ni
              Type: double
            - Name: mbp_ni
              Type: double
            - Name: resp_rate
              Type: double
            - Name: temperature
              Type: decimal(28,6)
            - Name: temperature_site
              Type: string
            - Name: spo2
              Type: double
            - Name: glucose
              Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/vitalsign/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  derivedweightdurations:
    Type: AWS::Glue::Table
    Properties:
      CatalogId:
        Ref: AWS::AccountId
      DatabaseName:
        Ref: MIMICIVDB
      TableInput:
        Description: mimic-iv derived_weight_durations table
        Name: derived_weight_durations
        Parameters:
          classification: parquet
          useGlueParquetWriter: "true"
        StorageDescriptor:
          Columns:
            - Name: stay_id
              Type: int
            - Name: starttime
              Type: timestamp
            - Name: endtime
              Type: timestamp
            - Name: weight
              Type: double
            - Name: weight_type
              Type: string
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          Location: s3://mimiciv-physionet/parquet/derived/weight_durations/
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
        TableType: EXTERNAL_TABLE
  MimicivAthenaResultBucketF10DB83A:
    Type: AWS::S3::Bucket
    Properties:
      BucketName:
        Fn::Join:
          - ""
          - - mimiciv-athena-query-results-
            - Ref: AWS::AccountId
            - "-"
            - Ref: AWS::Region
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
  MimicivAthenaWorkgroup:
    Type: AWS::Athena::WorkGroup
    Properties:
      Name: mimiciv
      Description: Athena workgroup for use with MIMIC-IV
      WorkGroupConfiguration:
        EngineVersion:
          SelectedEngineVersion: Athena engine version 3
        ResultConfiguration:
          OutputLocation:
            Fn::Join:
              - ""
              - - s3://
                - Ref: MimicivAthenaResultBucketF10DB83A
Outputs:
  MIMICJupyterNotebook:
    Description: Jupyter notebook
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: AWS::Region
          - .console.aws.amazon.com/sagemaker/home?region=
          - Ref: AWS::Region
          - "#/notebook-instances/openNotebook/"
          - Fn::GetAtt:
              - MIMICNotebookInstance
              - NotebookInstanceName
          - ?view=classic
    Condition: CreateNotebookCondition
  MIMICAthenaforSQL:
    Description: Athena web query editor
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: AWS::Region
          - .console.aws.amazon.com/athena/home?force&region=
          - Ref: AWS::Region
          - "#/query-editor"
